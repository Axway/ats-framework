<!doctype html>
<html>
 <head> 
  <title>ATS : Set RUN information</title> 
  <link rel="stylesheet" href="styles/site.css" type="text/css"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
 </head> 
 <body class="theme-default aui-theme-default"> 
  <div id="page"> 
   <div id="main" class="aui-page-panel"> 
    <div id="main-header"> 
     <a><img class="axway_logo" src="images/AxwayLogo.png" alt="Axway Inc"></a> 
     <div id="breadcrumb-section"> 
      <ol id="breadcrumbs"> 
       <li class="first"> <span><a href="index.html">ATS</a></span> </li> 
       <li> <span><a href="ATS-Documentation.html">ATS Documentation</a></span> </li> 
       <li> <span><a href="ATS-Guide.html">ATS Guide</a></span> </li> 
       <li> <span><a href="Test-logging.html">Test logging</a></span> </li> 
      </ol> 
     </div> 
     <h1 id="title-heading" class="pagetitle"> <span id="title-text"> ATS : Set RUN information </span> </h1> 
    </div> 
    <div id="content" class="view"> 
     <div id="main-content" class="wiki-content group"> 
      <h1 id="SetRUNinformation-Introduction">Introduction</h1> 
      <p>Using ATS you will be reviewing your test results mainly on the web UI of Test Explorer. The first page you will see is the one which lists all your RUNS</p> 
      <p>Here is how the RUNS page may look like:</p> 
      <p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/119482448/119482461.png" data-unresolved-comment-count="0" data-linked-resource-version="1" data-linked-resource-default-alias="pic1.PNG" data-linked-resource-content-type="image/png" data-linked-resource-container-version="4"></span></p> 
      <p>As you can see the name of the RUN will let you know what these tests are actually testing. The next columns will give you some info about the tested application.</p> 
      <p>This page shows how you can set the important info about your RUN.</p> 
      <p>&nbsp;</p> 
      <hr> 
      <h1 id="SetRUNinformation-ChangingtheRUNinformation"><strong> </strong>Changing the RUN information</h1> 
      <h3 id="SetRUNinformation-Usingtheconfig.propertiesfile">Using the ats.config.properties file</h3> 
      <p>Place the following entries in a file called <em>ats.config.properties</em> which is placed in the root of the classpath.</p> 
      <p>For Maven the default directories are either <em>src/main/resources</em> or <em>src/test/resources</em>.</p>
      <div class="code panel pdl" style="border-width: 1px;"> 
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-theme="Confluence"># the name of the Run
ats.db.logging.run.name=Performance tests of my Product

# the operating system
ats.db.logging.run.os=Linux RHEL 7

# the name of the tested application
ats.db.logging.run.product=My Cool Product

# the product version
ats.db.logging.run.version=2.3.17

# the product build number
ats.db.logging.run.build=2000</pre> 
       </div> 
      </div> 
      <p>ATS will read this file on startup and will use this information to set the RUN info.</p> 
      <p>&nbsp;</p> 
      <hr /> 
      <h3 id="SetRUNinformation-Usingjavacode">Using java code</h3> 
      <p>Have a look at the following code:</p> 
      <div class="code panel pdl" style="border-width: 1px;"> 
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-theme="Confluence">import com.axway.ats.log.AtsDbLogger;

AtsDbLogger atsDbLogger = AtsDbLogger.getLogger( BaseTest.class.getName() );
atsDbLogger.updateRun( "Another Run name", 
                       "Another OS", 
                       "Another Product name", 
                       "Another Product Version number",
                       "Another Product Build number", 
                       "Some user note about this run" );
</pre> 
       </div> 
      </div> 
      <p>Here we create an instance of the <em>AtsDbLogger</em> class which is used by ATS for managing the logging and we use its <em>updateRun</em> method.<br> The values we have used in this example tell you what kind of information can be changed - these are the same parameters as when using a properties file plus the last one which is to add some user information message about this run.</p> 
      <div class="confluence-information-macro has-no-icon confluence-information-macro-note"> 
       <div class="confluence-information-macro-body"> 
        <p>A run must be running at the time this method is called. This method updates an existing RUN, it does not start one.</p> 
        <p>Most likely the best place to call this method is in some code which will be executed just once for the whole RUN. If using TestNG a method annotated with <em>@BeforeSuite</em> annotation is a good candidate.</p> 
       </div> 
      </div> 
      <p>In case you do not want to modify all the Run info, you just need to pass <em>null</em> values for the parameters that should not be touched. The next example modifies the <em>user note</em> only:</p> 
      <div class="code panel pdl" style="border-width: 1px;"> 
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-theme="Confluence">atsDbLogger.updateRun( null, null, null, null, null, "Some user note about this run" );
</pre> 
       </div> 
      </div> 
      <p>&nbsp;</p> 
      <hr> 
      <h1 id="SetRUNinformation-Whichoptiontouse?">Which option to use?</h1> 
      <p>The first option(using the config.properties file) is good to provide all the info you know prior to starting your tests.</p> 
      <p>The second option(using java code) is good to provide info you do not know prior to starting your tests,</p> 
      <p>Of course you can use either one of them or both.</p> 
      <p>&nbsp;</p> 
      <hr> 
      <p>Back to <a href="Test-logging.html">parent page</a><p>Go to <a href="./toc.html">Table of Contents</a></p></p> 
      <hr> 
     </div> 
    </div> 
   </div> 
  </div>  
 </body>
</html>
