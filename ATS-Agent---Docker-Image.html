<!doctype html>
<html>
 <head> 
  <title>ATS : ATS Agent - Docker Image</title> 
  <link rel="stylesheet" href="styles/site.css" type="text/css"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
 </head> 
 <body class="theme-default aui-theme-default"> 
  <div id="page"> 
   <div id="main" class="aui-page-panel"> 
    <div id="main-header"> 
     <a><img class="axway_logo" src="images/AxwayLogo.png" alt="Axway Inc"></a> 
     <div id="breadcrumb-section"> 
      <ol id="breadcrumbs"> 
       <li class="first"> <span><a href="index.html">ATS</a></span> </li> 
       <li> <span><a href="ATS-Documentation.html">ATS Documentation</a></span> </li> 
       <li> <span><a href="ATS-Guide.html">ATS Guide</a></span> </li> 
       <li> <span><a href="The-ATS-Agent.html">The ATS Agent</a></span> </li> 
      </ol> 
     </div> 
     <h1 id="title-heading" class="pagetitle"> <span id="title-text"> ATS : ATS Agent - Docker Image </span> </h1> 
    </div> 
    <div id="content" class="view"> 
     <div id="main-content" class="wiki-content group"> 
      <h2 id="ATSAgentDockerImage-Introduction">Introduction</h2> 
      <p>ATS Framework extends its support for the deployment landscape. It is possible (since 4.0.7) to deploy the agent right from a dedicated Docker image. It is available in Docker Hub - <a class="external-link" href="https://hub.docker.com/repository/docker/axway/ats-agent/" rel="nofollow">https://hub.docker.com/repository/docker/axway/ats-agent/</a>.</p> 
      <h2 id="ATSAgentDockerImage-Usage">Usage</h2> 
      <p>Below is example how to run and use the available Docker image:</p> 
      <p>#&nbsp;docker run --rm -it -p <strong>8089</strong>:8089 --name <strong>agent</strong> --mount type=bind,source=<strong>$(pwd)/resources/add_actions</strong>,target=/opt/mount/ats axway/ats-agent</p> 
      <p>Where:</p> 
      <ul style="list-style-type: square;"> 
       <li><strong>--rm</strong> is instruction container to be removed right after termination;</li> 
       <li><strong>--name agent</strong> is the&nbsp; name given of the running container;</li> 
       <li><strong>-p 8089:8089</strong> is the port mapping. And the first port is the one exposed on the host;</li> 
       <li><strong>--mount ... source=$(pwd)/resources/add_actions</strong>,target=<strong>/opt/mount/ats</strong> - is the mapping of the host (source) where custom ATS actions libraries to be put and also the target mount on the container filesystem. <br>The layout on the source/external volume should be:<strong><br></strong> 
        <ul style="list-style-type: square;"> 
         <li>resources/add_actions/<strong>actions</strong> - the sub-folder with JARs with ATS actions, i.e. generated xxx-autoserver.jars;</li> 
         <li>resources/add_actions/<strong>actions_dependencies </strong>-&nbsp;the sub-folder with JARs needed as dependencies to the actions mentioned above;</li> 
         <li>Notes: Other volumes and mapping techniques could be used as long as the same folder layout and target mapping is used. On agent start files in the two sub-folders within /opt/mount/ats/ are copied to their corresponding directories under /home/atsuser/ats-agent/</li> 
        </ul></li> 
      </ul> 
      <h2 id="ATSAgentDockerImage-Notes">Notes</h2> 
      <p>Agent home is user home: /home/atsuser/, currently using OpenJDK JRE 11.x.</p> 
      <p>There are some special cases to be considered when copying files to the container. For more details refer to <a href="Special-considerations-for-file-copy-in-Docker-environment.html">this pages</a></p> 
      <h2 id="ATSAgentDockerImage-Versions">Versions</h2> 
      <p>Versions available into Docker Hub (<a class="external-link" href="https://hub.docker.com/repository/docker/axway/ats-agent/" rel="nofollow">https://hub.docker.com/repository/docker/axway/ats-agent/</a>):</p> 
      <ul style="list-style-type: square;"> 
       <li><strong>latest </strong>- using recent SNAPSHOT (the version in master branch)</li> 
       <li><strong>4.0.7-M4</strong> - 2002-10-20 based on ATS Framework 4.0.7-лю4 
        <ul style="list-style-type: square;"> 
         <li>using JVM with tuned options for security intensive operations. Namely specifying <span class="pl-s">NativePRNGNonBlocking as securerandom algorithm.</span></li> 
        </ul></li> 
       <li><strong>4.0.7-M3.1</strong> - 2002-07-24 built from ATS 4.0.7-SNAPSHOT</li> 
       <li><strong>4.0.7-M3.01</strong> - 2020-07-01, built from ATS 4.0.7-SNAPSHOT 
        <ul style="list-style-type: square;"> 
         <li>initial version</li> 
         <li>using non-root user: atsuser</li> 
        </ul></li> 
      </ul> 
      <p><br></p> 
     </div> 
    </div> 
   </div> 
  </div>  
  <hr>
  <p>Go to <a href="./The-ATS-Agent.html">parent page</a></p>
  <p>Go to <a href="./toc.html">Table of Contents</a></p>
  <hr>
 </body>
</html>