<!doctype html>
<html>
 <head> 
  <title>ATS : REST Operations - Supported HTTP methods</title> 
  <link rel="stylesheet" href="styles/site.css" type="text/css"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
 </head> 
 <body class="theme-default aui-theme-default"> 
  <div id="page"> 
   <div id="main" class="aui-page-panel"> 
    <div id="main-header"> 
     <a><img class="axway_logo" src="images/AxwayLogo.png" alt="Axway Inc"></a> 
     <div id="breadcrumb-section"> 
      <ol id="breadcrumbs"> 
       <li class="first"> <span><a href="index.html">ATS</a></span> </li> 
       <li> <span><a href="ATS-Documentation.html">ATS Documentation</a></span> </li> 
       <li> <span><a href="ATS-Guide.html">ATS Guide</a></span> </li> 
       <li> <span><a href="Basic-functionalities.html">Basic functionalities</a></span> </li> 
       <li> <span><a href="REST-Operations.html">REST Operations</a></span> </li> 
      </ol> 
     </div> 
     <h1 id="title-heading" class="pagetitle"> <span id="title-text"> ATS : REST Operations - Supported HTTP methods </span> </h1> 
    </div> 
    <div id="content" class="view"> 
     <div id="main-content" class="wiki-content group"> 
      <p>Following is a list with currently supported HTTP methods</p> 
      <hr> 
      <h1 id="RESTOperationsSupportedHTTPmethods-GETmethod">GET method</h1> 
      <p>GET is used to retrieve an already existing resource on the server without modifying it</p> 
      <div class="code panel pdl" style="border-width: 1px;"> 
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-theme="Confluence">// execute a GET method
RestResponse response = client.get();
 
// now examine the response</pre> 
       </div> 
      </div> 
      <p><br></p> 
      <hr> 
      <h1 id="RESTOperationsSupportedHTTPmethods-POSTmethod">POST method</h1> 
      <p>POST is used to create a new resource on the server</p> 
      <h3 id="RESTOperationsSupportedHTTPmethods-POSTaform">POST a form</h3> 
      <p>Post a form containing some information about some person:</p> 
      <div class="code panel pdl" style="border-width: 1px;"> 
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-theme="Confluence">// POST a form
client.postForm( new RestForm().addParameter( "firstName", USER_FIRST_NAME )
                               .addParameter( "lastName", USER_LAST_NAME )
                               .addParameter( "age", "40" ) );
</pre> 
       </div> 
      </div> 
      <h3 id="RESTOperationsSupportedHTTPmethods-POSTajavaobject">POST a java object</h3> 
      <p>Post some java object:</p> 
      <div class="code panel pdl" style="border-width: 1px;"> 
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-theme="Confluence">// prepare the object to POST
Person person = new Person();
person.setFirstName( "Indiana" );
person.setLastName( "Johnes" );
person.setAge( 40 );

// Optionally specify the request and/or response media types
client.setRequestMediaType( RestMediaType.APPLICATION_XML );
client.setResponseMediaType( RestMediaType.APPLICATION_XML );

// POST the object
RestResponse response = client.postObject( person );
</pre> 
       </div> 
      </div> 
      <p>In the example above, Person is some particular class provided by you, not the ATS framework.</p> 
      <p><br></p> 
      <hr> 
      <h1 id="RESTOperationsSupportedHTTPmethods-PUTmethod">PUT method</h1> 
      <p>PUT is used to update an already existing resource on the server</p> 
      <h3 id="RESTOperationsSupportedHTTPmethods-PUTaform">PUT a form</h3> 
      <p>Equivalent to the POST form example, but use the <strong> <em>putForm</em> </strong> method instead</p> 
      <h3 id="RESTOperationsSupportedHTTPmethods-PUTajavaobject">PUT a java object</h3> 
      <p>Equivalent to the POST object example, but use the <strong> <em>putObject</em> </strong> method instead</p> 
      <p><br></p> 
      <hr> 
      <h1 id="RESTOperationsSupportedHTTPmethods-DELETEmethod">DELETE method</h1> 
      <p>DELETE is used to delete an already existing resource on the server.</p> 
      <div class="code panel pdl" style="border-width: 1px;"> 
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-theme="Confluence">// make an instance of the REST client by specifying the target URI
RestClient client = new RestClient( &lt;target URI&gt;/people/delete/123 );

// execute the delete method
RestResponse response = client.delete();

// read the body of the response
String responseBody = response.getBodyAsString();
</pre> 
       </div> 
      </div> 
      <p>In this example we delete a person with id 123 which is specified as part of the URI.</p> 
      <p>Of course there are different ways of pointing the resource to delete, for example you can use a request parameter.</p> 
      <p><br></p> 
      <hr> 
      <h1 id="RESTOperationsSupportedHTTPmethods-Anymethod">Any method</h1> 
      <p>There are other HTTP methods not supported by our REST client, there could be also some methods specific only to your server. Here is how you can proceed in such case:</p> 
      <div class="code panel pdl" style="border-width: 1px;"> 
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-theme="Confluence">// make an instance of the REST client by specifying the target URI
RestClient client = new RestClient( &lt;target URI&gt; );

// execute some HTTP method
RestResponse response = client.execute( "KICK" );

// read the body of the response
String responseBody = response.getBodyAsString();
</pre> 
       </div> 
      </div> 
      <p>In this case our server knows how to handle a method called KICK <img class="emoticon emoticon-smile" src="images/icons/emoticons/smile.svg" alt="(smile)"></p> 
      <p><br></p> 
      <hr> 
      <h1 id="RESTOperationsSupportedHTTPmethods-Non-compliantmethodexecution">Non-compliant method execution</h1> 
      <p>There are cases, where some method invocations are not compliant. Example of such method invocations are:</p> 
      <ul style="list-style-type: square;"> 
       <li><strong>PUT</strong> with null body 
        <ul style="list-style-type: square;"> 
         <li>Exception - java.lang.IllegalStateException: Entity must not be null for http method PUT</li> 
        </ul></li> 
       <li><strong>DELETE</strong> with body 
        <ul style="list-style-type: square;"> 
         <li>Exception - java.lang.IllegalStateException: Entity must be null for http method DELETE.</li> 
        </ul></li> 
      </ul> 
      <p>To suppress such errors (make then log a warning message instead),&nbsp; use the following snippet:</p> 
      <div class="code panel pdl" style="border-width: 1px;"> 
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-theme="Confluence">// make an instance of the REST client by specifying the target URI
RestClient client = new RestClient( &lt;target URI&gt; );

// make instance of REST client configurator
RestClientCondigurator restClientConfigurator = new RestClientConfigurator();
// suppress non-compliant method invocation exceptions
restClientConfigurator.setProperty(org.glassfish.jersey.client.ClientProperties.SUPPRESS_HTTP_COMPLIANCE_VALIDATION, true);

// set configurator to the client, BEFORE executing any REST/HTTP method
client.setClientConfigurator(restClientConfigurator);

// execute some non-compliant HTTP method
// now the next line will not throw any exceptions, but will gracefully log a warning instead
RestResponse response = client.execute( "DELETE", "{\"id\":1}" );

// read the body of the response
String responseBody = response.getBodyAsString();
</pre> 
       </div> 
      </div> 
      <p><br></p> 
      <hr> 
      <p>Back to <a href="REST-Operations.html">parent page</a><p>Go to <a href="./toc.html">Table of Contents</a></p></p> 
      <hr> 
     </div> 
    </div> 
   </div> 
  </div>  
 </body>
</html>