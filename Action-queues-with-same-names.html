<!DOCTYPE html>
<html>
    <head>
        <title>ATS : Action queues with same names</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
<a><img class="axway_logo" src="images/AxwayLogo.png" alt="Axway Inc"></a>

                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">ATS</a></span>
                            </li>
                                                    <li>
                                <span><a href="ATS-OS-Documentation.html">ATS OS Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="ATS-Guide.html">ATS Guide</a></span>
                            </li>
                                                    <li>
                                <span><a href="Performance-testing.html">Performance testing</a></span>
                            </li>
                                                    <li>
                                <span><a href="Running-performance-tests.html">Running performance tests</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            ATS : Action queues with same names
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Nikolay Gogovski</span>, last modified on Apr 10, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="Actionqueueswithsamenames-Introduction">Introduction</h1><hr/><p>In case you want to simulate complex behavior of real users, you may need to run more than one threading pattern. For example, imagine you have bank accountants who do some work in the morning, then then have a lunch break and do some other work after lunch. This is easy to achieve by running more than one action queue one after another(one for the morning and one for the afternoon accountants' work).</p><p>But when you look at the Test Explorer statistics you may want to see all the user activity in same table. This is very easy to achieve and this page explains shows it.</p><p> </p><hr/><h1 id="Actionqueueswithsamenames-Twoseparateactionqueues">Two separate action queues</h1><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">        // Create the morning loader
        LoadClient morningLoader = new LoadClient( LOADER_ADDRESS );
        morningLoader.setThreadingPattern( new AllAtOncePattern( 10, true, 3, 2000 ) );

        // run the morning actions
        morningLoader.startQueueing( &quot;Morning bank operations&quot; );
        BankActions morningBankActions = new BankActions();
        morningBankActions.payCache( );
        morningLoader.executeQueuedActions();

        // Give them 30 minutes for lunch :)
        Thread.sleep( 30 * 60 * 1000 );

        // Create the afternoon loader
        LoadClient afternoonLoader = new LoadClient( LOADER_ADDRESS );
        afternoonLoader.setThreadingPattern( new AllAtOncePattern( 10, true, 3, 2000 ) );

        // run the afternoon actions
        afternoonLoader.startQueueing( &quot;Afternoon bank operations&quot; );
        BankActions afternoonBankActions = new BankActions();
        afternoonBankActions.payCache( );
        afternoonBankActions.payWithCard( );
        afternoonLoader.executeQueuedActions();
</pre>
</div></div><h3 id="Actionqueueswithsamenames-Theresult">The result</h3><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/119496855/119496931.png" data-image-src="attachments/119496855/119496931.png" data-unresolved-comment-count="0" data-linked-resource-id="119496931" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="pic1.png" data-base-url="https://techweb.axway.com/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="119496855" data-linked-resource-container-version="3"></span></p><p>As you can see we have &quot;Morning bank operations&quot; queue, half hour no work and then &quot;Afternoon bank operations&quot; queue. Of course your queue should last for few hours, not like ours here.</p><div class="confluence-information-macro has-no-icon confluence-information-macro-note"><div class="confluence-information-macro-body"><p>Both queues can contain same or different actions from same or different action classes.</p><p>In our example both queues run actions from same action class(the imaginary BankActions). There is an action(called payCache) ran by both queues, but there is also an action ran by just one of the queues(called payWithCard).</p></div></div><p> </p><hr/><h1 id="Actionqueueswithsamenames-Combinedactionqueues">Combined action queues</h1><p>Now change the code by naming both queues with same name, for example &quot;Complex bank operations&quot; and run it again.</p><h3 id="Actionqueueswithsamenames-Theresult.1">The result</h3><p><br/> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/119496855/119496932.png" data-image-src="attachments/119496855/119496932.png" data-unresolved-comment-count="0" data-linked-resource-id="119496932" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="pic2.png" data-base-url="https://techweb.axway.com/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="119496855" data-linked-resource-container-version="3"></span></p><p>The execution is the same in terms of threading patterns and actions, but both report tables are merged into a single one. Of course now it is not easy to understand which actions were run in the morning and which after noon.</p><div class="confluence-information-macro has-no-icon confluence-information-macro-note"><div class="confluence-information-macro-body"><p>You can combine many patterns and these patterns can vary in type, number of users, actions etc.</p></div></div><p> </p><hr/><p>Back to <a href="Running-performance-tests.html">parent page</a></p><hr/>
                    </div>

                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Apr 11, 2017 16:15</p>
                    <div id="footer-logo"></div>
                </section>
            </div>
        </div>     </body>
</html>


