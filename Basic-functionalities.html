<!DOCTYPE html>
<html>
    <head>
        <title>ATS : Basic functionalities</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
<a><img class="axway_logo" src="images/AxwayLogo.png" alt="Axway Inc"></a>

                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">ATS</a></span>
                            </li>
                                                    <li>
                                <span><a href="ATS-OS-Documentation.html">ATS OS Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="ATS-Guide.html">ATS Guide</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            ATS : Basic functionalities
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Nikolay Gogovski</span>, last modified on Mar 23, 2017
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>This page shows many simple examples which can be used as parts of your own tests.</p><p>It is all java code, so you can mix it as needed with other (not ATS) code.</p><h1 id="Basicfunctionalities-Thetestlandscape">The test landscape</h1><p>Before going with the examples bellow, please first have a look at the following simple diagram:</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" width="733" confluence-query-params="effects=border-simple,blur-border,tape" src="attachments/119475846/119476690.png?effects=border-simple,blur-border,tape" data-image-src="attachments/119475846/119476690.png" data-unresolved-comment-count="0" data-linked-resource-id="119476690" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="FunctionalTestsLandscape.png" data-base-url="https://techweb.axway.com/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="119475846" data-linked-resource-container-version="12"></span></p><p>Whenever you work with your tests, it will be good to have an idea about the participating parties, there placement and relations.</p><p>This diagram is an example which could be different than your own case but still:</p><ol><li>Test Executor is the application running the tests. It interacts with:<br/><ol><li>The AUT(Application Under Test) using some protocol - HTTP, FTP, RMI etc.</li><li>Some external server using some protocol. <br/>For example sometimes the AUT uses a database placed on external host, so the test running on the Test Executor might talk with the external database over JDBC.</li><li>Test Explorer by sending all test data to the test database there</li></ol></li><li>AUT(Application Under Test) is the application we are testing.<br/>It could be a single application or a number of applications working as one</li><li>Test Explorer is your main test results storage</li><li>External Servers</li></ol><p> </p><hr/><h1 id="Basicfunctionalities-FileTransfers">File Transfers</h1><p>ATS supports file transfers over different standard protocols. Here is some FTP example:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">    import com.axway.ats.action.filetransfer.FileTransferClient;
    import com.axway.ats.common.filetransfer.TransferProtocol;

    @Test
    public void fileTransfer() {

        // Instantiate the File Transfer client by providing the protocol to use
        FileTransferClient transferClient = new FileTransferClient( TransferProtocol.FTP );
        // set a custom port(if not using the default one)
        transferClient.setPort( 121 );

        // connect using appropriate parameters
        transferClient.connect( SERVER_IP, USER_NAME, USER_PASSWORD );

        // upload a local file to the remote root folder of our user
        transferClient.uploadFile( LOCAL_FILE_LOCATION + FILE_NAME, &quot;/&quot; );

        // disconnect the File Transfer client
        transferClient.disconnect();
    }</pre>
</div></div><p>We hope you find this example simple enough.</p><p>This class can simply do a file transfer between two end points. You cannot, for example, run separate FTP commands.</p><p>The beauty of the <em>FileTransferClient</em> clas is that the code looks a kind of the same no matter the used protocol. This means if the transfer was over HTTP, we would change only the specified protocol.</p><p>However in reality the situation can get more complicated as each protocol may accept additional parameters.</p><p><a href="File-transfers.html">Here</a> you can find examples with more advanced options over all supported protocols.</p><p> </p><hr/><h1 id="Basicfunctionalities-FileSystemOperations">File System Operations</h1><p>All kinds of different tasks can be executed on files and folders hosted on local(Test Executor) host or a remote one.</p><p><a href="File-System-Operations.html">Here</a> is a page dedicated to these features.</p><hr/><h1 id="Basicfunctionalities-DatabaseOperations">Database Operations</h1><p>When it comes to databases, ATS supports <em>Oracle</em>, <em>MySQL</em>, <em>MSSQL</em> and <em>Cassandra</em>. With some effort, It is also possible to plug-in support for your own database type.</p><p>Here are some examples:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">    import com.axway.ats.action.dbaccess.DatabaseOperations;
    import com.axway.ats.action.dbaccess.model.DatabaseCell;
    import com.axway.ats.action.dbaccess.model.DatabaseRow;
    import com.axway.ats.harness.config.TestBox;

    @Test
    public void databaseOperations() {

        TestBox serverBox = new TestBox();
        serverBox.setHost( SERVER_IP );
        serverBox.setDbType( &quot;MSSQL&quot; );
        serverBox.setDbName( &quot;DemoDatabase&quot; );
        serverBox.setDbUser( USER_NAME );
        serverBox.setDbPass( USER_PASSWORD );

        // Make an instance of this class by providing the connection parameters
        DatabaseOperations dbOperations = new DatabaseOperations( serverBox );

        // fetch value from the DB
        String dbValue1 = dbOperations.getValue( &quot;Table1&quot;, &quot;column1&quot;, &quot;id&quot;, &quot;1&quot; );
        log.info( &quot;We fetched this db value: &quot; + dbValue1 );

        // the next command will produce same result
        String dbValue2 = dbOperations.getValue( &quot;SELECT column1 FROM Table1 WHERE id = 1&quot; );
        log.info( &quot;We fetched this db value: &quot; + dbValue2 );

        // delete rows from Table1 that match the provided where clause
        dbOperations.delete( &quot;Table1&quot;, &quot;column1=&#39;ABC&#39;&quot; );

        // update the value of column1 where column2 has some particular value
        dbOperations.updateValue( &quot;Table1&quot;, &quot;column1&quot;, &quot;new value&quot;, &quot;column2&quot;, &quot;where_value&quot; );

        /* 
         * when you extract not just a single value, but many rows and columns
         * it is convenient to use the next example which shows the usage
         * of very simple classes called DatabaseRow and DatabaseCell
         */
        DatabaseRow[] dbRows = dbOperations.getDatabaseData( &quot;SELECT column1, column2 FROM Table1&quot; );
        log.info( &quot;Found &quot; + dbRows.length + &quot; DB rows&quot; );
        for( DatabaseRow dbRow : dbRows ) {
            DatabaseCell column1Cell = dbRow.getCell( &quot;column1&quot; );
            DatabaseCell column2Cell = dbRow.getCell( &quot;column2&quot; );

            log.info( &quot;column1 is &quot; + column1Cell.getValue() + &quot; while column2 is &quot; + column2Cell.getValue() );
        }
    }</pre>
</div></div><p><a href="Database-Operations.html">Here</a> are more advanced examples including some specifics for particular database instances.</p><p> </p><hr/><h1 id="Basicfunctionalities-HTTPOperations">HTTP Operations</h1><p><a href="HTTP-Operations.html">Here</a> you can see how you can run HTTP calls using ATS</p><p><strong> <br/> </strong></p><hr/><h1 id="Basicfunctionalities-RESTOperations">REST Operations</h1><p><a href="REST-Operations.html">Here</a> you can see how you can run HTTP calls using ATS</p><div class="confluence-information-macro has-no-icon confluence-information-macro-note"><p class="title">HTTP or REST Client?</p><div class="confluence-information-macro-body"><p>An obvious question here is when should the HTTP client be used and when the REST client.</p><p>Of course they both work over HTTP, but the HTTP client manages automatically the session data while the REST one doesn't.</p><p>Currently our HTTP client uses underneath Apache HTTP client while our REST client uses underneath Apache Jersey REST client.<br/>Well, you should not count that ATS will always use these third party libraries in background. At some point we might switch to others if there is a good reason, but our front-end clients will keep working as expected.<br/> <br/>We can also say that currently we have better wrappers for processing JSON and XML bodies in the REST client, but the HTTP client can catch up as needed.</p></div></div><p> </p><hr/><h1 id="Basicfunctionalities-BasicSystemOperations">Basic System Operations</h1><p><a href="Basic-System-Operations.html">Here</a> you can see how to do some very basic system operations like working with the system time, send some keyboard or mouse events, take a snapshot of the display etc.</p><p> </p><hr/><h1 id="Basicfunctionalities-Runningexternalprocess">Running external process</h1><p><a href="Running-external-process.html">Here</a> you can see hoe to run an external process(for example some shell command) and evaluate its result.</p><p> </p><hr/><h1 id="Basicfunctionalities-Interactingwithexternalprocess">Interacting with external process</h1><p><a href="Interacting-with-external-process.html">Here</a> we show the way to <em>&quot;talk&quot;</em> to some external process.</p><p>This means you can not only check the process output(it talks to you), but you can also send answers to when asked(you talk to it)</p><p> </p><hr/><h1 id="Basicfunctionalities-FileSystemSnapshots">File System Snapshots</h1><p><a href="File-System-Snapshots.html">Here</a> you can see how to check what changes were made on some file system. Often used when verifying the result of doing upgrade of the Application Under Test</p><p> </p><hr/><h1 id="Basicfunctionalities-DatabaseSnapshots">Database Snapshots</h1><p><a href="Database-Snapshots.html">Here</a> you can see how to check what changes were made on some database. Often used when verifying the result of doing upgrade of the Application Under Test</p><p> </p><hr/><h1 id="Basicfunctionalities-MailandSMTPoperations">Mail and SMTP operations</h1><p><a href="Mail-and-SMTP-operations.html">Here</a> you can see how to create or load a MIME message, modify it and send it over SMTP.</p><p>It is also possible to run direct SMTP commands.</p><p> </p><hr/><h1 id="Basicfunctionalities-SSHOperations">SSH Operations</h1><p><a href="SSH-Operations.html">Here</a> you can see how to execute commands over an SSH connection</p><p> </p><hr/><h1 id="Basicfunctionalities-WindowsRegistryOperations">Windows Registry Operations</h1><p><a href="Windows-Registry-Operations.html">Here</a> you can see how to work with the Windows registry.</p><p> </p><hr/><h1 id="Basicfunctionalities-TestVerifications">Test Verifications</h1><p> </p><p>Usually in order to understand whether the test completed successfully it is need to make some checks on file system or database or similar.</p><p>ATS provides a common way for such cases. <a href="Common-test-verifications.html">Here</a> is how.</p><p> </p><hr/><p>Back to <a href="ATS-Guide.html">parent page</a></p><hr/>
                    </div>

                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Apr 05, 2017 10:53</p>
                    <div id="footer-logo"></div>
                </section>
            </div>
        </div>     </body>
</html>


